# ğŸš€ Polaris Bot - launchdì—ì„œ pm2ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

**ë‚ ì§œ**: 2026-02-04
**ì´ìœ **: Full Disk Access ê¶Œí•œ ë¬¸ì œ í•´ê²° + ê´€ë¦¬ í¸ì˜ì„±

---

## âŒ launchd ë¬¸ì œì 

```
[Errno 1] Operation not permitted
```

- Desktop í´ë” ì ‘ê·¼ ì‹œ Full Disk Access í•„ìš”
- Python3ì— ê¶Œí•œ ë¶€ì—¬ê°€ ë³µì¡í•¨
- plist íŒŒì¼ ì„¤ì •ì´ ì–´ë ¤ì›€
- ë¡œê·¸ ê´€ë¦¬ ë¶ˆí¸

---

## âœ… pm2 ì¥ì 

### 1. ê¶Œí•œ ë¬¸ì œ ì—†ìŒ
- ì‚¬ìš©ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰ â†’ Full Disk Access ë¶ˆí•„ìš”
- Desktop í´ë” ì ‘ê·¼ ê°€ëŠ¥

### 2. ì‚¬ìš© ê°„í¸
```bash
pm2 start polaris_bot.py --interpreter python3  # ì‹œì‘
pm2 logs                                          # ë¡œê·¸ ë³´ê¸°
pm2 restart polaris-bot                          # ì¬ì‹œì‘
```

### 3. ê°•ë ¥í•œ ê¸°ëŠ¥
- ì‹¤ì‹œê°„ ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë°
- CPU/ë©”ëª¨ë¦¬ ëª¨ë‹ˆí„°ë§
- ìë™ ì¬ì‹œì‘
- ë¶€íŒ… ì‹œ ìë™ ì‹œì‘

---

## ğŸ“¦ ì„¤ì¹˜ ë° ë§ˆì´ê·¸ë ˆì´ì…˜

### Step 1: Node.js & pm2 ì„¤ì¹˜

```bash
# Homebrewë¡œ Node.js ì„¤ì¹˜
brew install node

# pm2 ì„¤ì¹˜
npm install -g pm2

# ì„¤ì¹˜ í™•ì¸
pm2 --version
```

### Step 2: ê¸°ì¡´ launchd ì œê±°

```bash
# ì„œë¹„ìŠ¤ ì¤‘ì§€
launchctl unload ~/Library/LaunchAgents/com.polaris.bot.plist

# plist íŒŒì¼ ì‚­ì œ
rm ~/Library/LaunchAgents/com.polaris.bot.plist

# í”„ë¡œì„¸ìŠ¤ í™•ì¸ (ì—†ì–´ì•¼ í•¨)
launchctl list | grep polaris
```

### Step 3: pm2ë¡œ Polaris ì‹œì‘

```bash
cd ~/Desktop/Polaris_Agent_System

# ìë™ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ (ì¶”ì²œ)
./start_with_pm2.sh
```

**ë˜ëŠ” ìˆ˜ë™ ì‹¤í–‰:**

```bash
# Bot ì‹œì‘
pm2 start polaris_bot.py \
    --name "polaris-bot" \
    --interpreter python3 \
    --cwd ~/Desktop/Polaris_Agent_System

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì„¤ì •
pm2 startup
pm2 save

# ìƒíƒœ í™•ì¸
pm2 list
```

---

## ğŸ® pm2 ì£¼ìš” ëª…ë ¹ì–´

### ê¸°ë³¸ ëª…ë ¹ì–´

```bash
# í”„ë¡œì„¸ìŠ¤ ëª©ë¡
pm2 list

# ìƒì„¸ ì •ë³´
pm2 show polaris-bot

# ë¡œê·¸ ë³´ê¸° (ì‹¤ì‹œê°„)
pm2 logs polaris-bot

# ìµœê·¼ 100ì¤„ ë¡œê·¸
pm2 logs polaris-bot --lines 100

# ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
pm2 monit
```

### í”„ë¡œì„¸ìŠ¤ ì œì–´

```bash
# ì¬ì‹œì‘
pm2 restart polaris-bot

# ì¤‘ì§€
pm2 stop polaris-bot

# ì‹œì‘ (ì¤‘ì§€ëœ í”„ë¡œì„¸ìŠ¤)
pm2 start polaris-bot

# ì‚­ì œ (ì™„ì „ ì œê±°)
pm2 delete polaris-bot
```

### ìë™ ì‹œì‘ ê´€ë¦¬

```bash
# í˜„ì¬ í”„ë¡œì„¸ìŠ¤ ëª©ë¡ ì €ì¥
pm2 save

# ì €ì¥ëœ í”„ë¡œì„¸ìŠ¤ ë¶ˆëŸ¬ì˜¤ê¸°
pm2 resurrect

# ìë™ ì‹œì‘ ì œê±°
pm2 unstartup
```

---

## ğŸ“Š ì˜ˆìƒ ì¶œë ¥

### pm2 list

```
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id  â”‚ name         â”‚ namespace   â”‚ version â”‚ mode    â”‚ pid      â”‚ uptime â”‚ â†º    â”‚ status    â”‚ cpu      â”‚ mem      â”‚ user     â”‚ watching â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0   â”‚ polaris-bot  â”‚ default     â”‚ N/A     â”‚ fork    â”‚ 12345    â”‚ 5m     â”‚ 0    â”‚ online    â”‚ 0.1%     â”‚ 45.2mb   â”‚ jongmin  â”‚ disabled â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### pm2 logs

```
0|polaris-bot  | 2026-02-04 20:30:15 - __main__ - INFO - ğŸŒŸ Polaris Bot initialized
0|polaris-bot  | 2026-02-04 20:30:15 - __main__ - INFO - ğŸ“ Obsidian path: /Users/jongmin/...
0|polaris-bot  | 2026-02-04 20:30:15 - __main__ - INFO - ğŸŒŸ Polaris Bot starting...
0|polaris-bot  | 2026-02-04 20:30:20 - httpx - INFO - HTTP Request: POST https://api.telegram.org/...
```

### pm2 monit

```
â”Œâ”€ Process List â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€ Global Logs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚[0] polaris-bot        Mem: 45 MB    â”‚â”‚ polaris-bot > ğŸŒŸ Bot initialized     â”‚
â”‚                                      â”‚â”‚ polaris-bot > âœ… Telegram connected  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€ Custom Metrics â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€ Metadata â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Heap Size              18.2 MB       â”‚â”‚ App Name      polaris-bot            â”‚
â”‚ Heap Usage             54.54 %       â”‚â”‚ Namespace     default                â”‚
â”‚ Used Heap Size         9.91 MB       â”‚â”‚ Version       N/A                    â”‚
â”‚ Active requests        0             â”‚â”‚ Restarts      0                      â”‚
â”‚ Active handles         5             â”‚â”‚ Uptime        5m                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ë¬¸ì œ í•´ê²°

### pm2ê°€ ì„¤ì¹˜ ì•ˆ ë¨

```bash
# Node.js ì„¤ì¹˜ í™•ì¸
node --version

# ì—†ìœ¼ë©´ ì„¤ì¹˜
brew install node

# npm í™•ì¸
npm --version

# pm2 ì¬ì„¤ì¹˜
npm install -g pm2
```

### í”„ë¡œì„¸ìŠ¤ê°€ ê³„ì† ì¬ì‹œì‘ë¨

```bash
# ì—ëŸ¬ ë¡œê·¸ í™•ì¸
pm2 logs polaris-bot --err

# ìƒì„¸ ì •ë³´
pm2 show polaris-bot

# Python ê²½ë¡œ í™•ì¸
which python3
```

### ë¶€íŒ… í›„ ìë™ ì‹œì‘ ì•ˆ ë¨

```bash
# startup ì„¤ì • í™•ì¸
pm2 startup

# ìœ„ ëª…ë ¹ì–´ ì¶œë ¥ëœ ëª…ë ¹ì–´ ì‹¤í–‰ (sudo í¬í•¨)
# ì˜ˆ: sudo env PATH=$PATH:/usr/local/bin pm2 startup launchd -u jongmin --hp /Users/jongmin

# í˜„ì¬ í”„ë¡œì„¸ìŠ¤ ì €ì¥
pm2 save
```

---

## ğŸ“ˆ ì„±ëŠ¥ ë¹„êµ

| í•­ëª© | launchd | pm2 |
|------|---------|-----|
| ì„¤ì¹˜ | ê¸°ë³¸ ë‚´ì¥ | npm í•„ìš” |
| ì„¤ì • | ë³µì¡ (XML) | ê°„ë‹¨ (CLI) |
| ë¡œê·¸ | íŒŒì¼ í™•ì¸ | ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° |
| ëª¨ë‹ˆí„°ë§ | ì—†ìŒ | pm2 monit |
| ì¬ì‹œì‘ | launchctl | pm2 restart |
| ê¶Œí•œ ë¬¸ì œ | âŒ | âœ… |
| ì‚¬ìš© í¸ì˜ì„± | â­â­ | â­â­â­â­â­ |

---

## âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Node.js & pm2 ì„¤ì¹˜
- [ ] ê¸°ì¡´ launchd ì„œë¹„ìŠ¤ ì œê±°
- [ ] `./start_with_pm2.sh` ì‹¤í–‰
- [ ] `pm2 list`ë¡œ ìƒíƒœ í™•ì¸
- [ ] `pm2 logs`ë¡œ ë¡œê·¸ í™•ì¸
- [ ] Telegramì—ì„œ Bot í…ŒìŠ¤íŠ¸
- [ ] Mac ì¬ì‹œì‘ í›„ ìë™ ì‹œì‘ í™•ì¸

---

## ğŸ‰ ì™„ë£Œ!

pm2ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ë©´:
- âœ… Full Disk Access ë¶ˆí•„ìš”
- âœ… ê´€ë¦¬ í›¨ì”¬ í¸í•¨
- âœ… ë¡œê·¸/ëª¨ë‹ˆí„°ë§ ìš°ìˆ˜
- âœ… ë¬¸ì œ í•´ê²° ì‰¬ì›€

**ë‹¤ìŒ ëª…ë ¹ì–´ë¡œ ìƒíƒœ í™•ì¸:**
```bash
pm2 list
pm2 logs polaris-bot
```

---

**ì‘ì„±**: 2026-02-04
**ì—…ë°ì´íŠ¸**: pm2 ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ
